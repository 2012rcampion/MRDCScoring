<html>
	<head>
		<title>Control Panel</title>
		<script src='jquery-1.10.2.js'></script>
		<script src='/socket.io/socket.io.js'></script>
		<script>
			$(document).ready(function() {
				
				socket = io.connect(location.hostname);
				
				$('#toggleTimer').on('click', function() {
					socket.emit('toggleTimer');
				});
				
				$('#resetTimer').on('click', function() {
					socket.emit('resetTimer');
				});
				
				$('#setTimer').on('click', function() {
					socket.emit('toggleTimer');
				});
				
				var teamsDiv = $('#teams');
				for(var i = 0; i < 4; i++) {
					var listItem = $('<li></li>');
					listItem.html(
						'<span class=\'name\'>Team ' + (1+i) + '</span>' + 
						': <span class=\'score\'>0</span>'
					);
					listItem.data('team', i)
					listItem.on('click', function() {
						currentColor = +$(this).data('team');
						$(this).siblings().removeClass('selected');
						$(this).addClass('selected');
					});
					teamsDiv.append(listItem);
				}
				
				
				
				socket.on('stateUpdate', function(data) {
					
					var teams = $('#teams').children();
					for(var i = 0; i < teams.length; i++) {
						$(teams[i]).find('.name').html(data.teams[i].name);
						$(teams[i]).find('.score').html(data.teams[i].score);
					}
				});
				
				socket.on('timeUpdate', function(data) {
					var m = Math.floor(data/60000);
					var s = Math.floor(data/1000)-60*m;
					$('#time').html(m+':'+('0'+s).slice(-2));
				});
			
			});
		</script>
	</head>
	<body>
		</div>
		<div id='teams'></div>
		<span id='time'></span>
		<div id='actions'>
			<button id='toggleTimer'>Start/Stop</button>
			<button id='resetTimer'>Reset</button>
			<button id='setTimer'>Set to:</button>
			<input id='timerInput'></input><br/>
			<button id='resetScores'>Reset Scores</button>
		</div>
		<div style="border:1px dotted red;width:1022px;height:766px;position:fixed;left:0;top:0;z-index:-100;background-color:magenta">
	</body>
</html>
